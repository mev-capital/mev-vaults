{"ast":null,"code":"var _jsxFileName = \"/home/bacarif/Documents/MEV CAPITAL/ZunamiUI/src/contexts/Transactions/TransactionsProvider.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useEffect, useReducer } from 'react';\nimport Context from './context';\nimport reducer, { initialState, setTransactions, addTransaction } from './reducer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst TransactionsProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [{\n    initialized,\n    transactions\n  }, dispatch] = useReducer(reducer, initialState);\n  const handleAddTransaction = useCallback(tx => {\n    dispatch(addTransaction(tx));\n  }, [dispatch]);\n  const fetchTransactions = useCallback(async () => {\n    try {\n      const txsRaw = localStorage.getItem('transactions');\n      const txs = txsRaw && JSON.parse(txsRaw) || {};\n      dispatch(setTransactions(txs));\n    } catch (e) {// console.log(e)\n    }\n  }, [dispatch]);\n  useEffect(() => {\n    if (initialized) {\n      localStorage.setItem('transactions', JSON.stringify(transactions));\n    }\n  }, [initialized, transactions]);\n  useEffect(() => {\n    fetchTransactions();\n  }, [fetchTransactions]);\n  return /*#__PURE__*/_jsxDEV(Context.Provider, {\n    value: {\n      transactions,\n      onAddTransaction: handleAddTransaction\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n};\n\n_s(TransactionsProvider, \"cAJ7kXvwzXP1Pbne3SJCgjbf/PA=\");\n\n_c = TransactionsProvider;\nexport default TransactionsProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"TransactionsProvider\");","map":{"version":3,"names":["React","useCallback","useEffect","useReducer","Context","reducer","initialState","setTransactions","addTransaction","TransactionsProvider","children","initialized","transactions","dispatch","handleAddTransaction","tx","fetchTransactions","txsRaw","localStorage","getItem","txs","JSON","parse","e","setItem","stringify","onAddTransaction"],"sources":["/home/bacarif/Documents/MEV CAPITAL/ZunamiUI/src/contexts/Transactions/TransactionsProvider.tsx"],"sourcesContent":["import React, { useCallback, useEffect, useReducer } from 'react';\n\nimport Context from './context';\nimport reducer, { initialState, setTransactions, addTransaction } from './reducer';\nimport { Transaction, TransactionsMap } from './types';\n\nconst TransactionsProvider: React.FC = ({ children }) => {\n    const [{ initialized, transactions }, dispatch] = useReducer(reducer, initialState);\n\n    const handleAddTransaction = useCallback(\n        (tx: Transaction) => {\n            dispatch(addTransaction(tx));\n        },\n        [dispatch]\n    );\n\n    const fetchTransactions = useCallback(async () => {\n        try {\n            const txsRaw = localStorage.getItem('transactions');\n            const txs = (txsRaw && (JSON.parse(txsRaw) as TransactionsMap)) || {};\n            dispatch(setTransactions(txs));\n        } catch (e) {\n            // console.log(e)\n        }\n    }, [dispatch]);\n\n    useEffect(() => {\n        if (initialized) {\n            localStorage.setItem('transactions', JSON.stringify(transactions));\n        }\n    }, [initialized, transactions]);\n\n    useEffect(() => {\n        fetchTransactions();\n    }, [fetchTransactions]);\n\n    return (\n        <Context.Provider\n            value={{\n                transactions,\n                onAddTransaction: handleAddTransaction,\n            }}\n        >\n            {children}\n        </Context.Provider>\n    );\n};\n\nexport default TransactionsProvider;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,WAAhB,EAA6BC,SAA7B,EAAwCC,UAAxC,QAA0D,OAA1D;AAEA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,OAAP,IAAkBC,YAAlB,EAAgCC,eAAhC,EAAiDC,cAAjD,QAAuE,WAAvE;;;AAGA,MAAMC,oBAA8B,GAAG,QAAkB;EAAA;;EAAA,IAAjB;IAAEC;EAAF,CAAiB;EACrD,MAAM,CAAC;IAAEC,WAAF;IAAeC;EAAf,CAAD,EAAgCC,QAAhC,IAA4CV,UAAU,CAACE,OAAD,EAAUC,YAAV,CAA5D;EAEA,MAAMQ,oBAAoB,GAAGb,WAAW,CACnCc,EAAD,IAAqB;IACjBF,QAAQ,CAACL,cAAc,CAACO,EAAD,CAAf,CAAR;EACH,CAHmC,EAIpC,CAACF,QAAD,CAJoC,CAAxC;EAOA,MAAMG,iBAAiB,GAAGf,WAAW,CAAC,YAAY;IAC9C,IAAI;MACA,MAAMgB,MAAM,GAAGC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAf;MACA,MAAMC,GAAG,GAAIH,MAAM,IAAKI,IAAI,CAACC,KAAL,CAAWL,MAAX,CAAZ,IAAuD,EAAnE;MACAJ,QAAQ,CAACN,eAAe,CAACa,GAAD,CAAhB,CAAR;IACH,CAJD,CAIE,OAAOG,CAAP,EAAU,CACR;IACH;EACJ,CARoC,EAQlC,CAACV,QAAD,CARkC,CAArC;EAUAX,SAAS,CAAC,MAAM;IACZ,IAAIS,WAAJ,EAAiB;MACbO,YAAY,CAACM,OAAb,CAAqB,cAArB,EAAqCH,IAAI,CAACI,SAAL,CAAeb,YAAf,CAArC;IACH;EACJ,CAJQ,EAIN,CAACD,WAAD,EAAcC,YAAd,CAJM,CAAT;EAMAV,SAAS,CAAC,MAAM;IACZc,iBAAiB;EACpB,CAFQ,EAEN,CAACA,iBAAD,CAFM,CAAT;EAIA,oBACI,QAAC,OAAD,CAAS,QAAT;IACI,KAAK,EAAE;MACHJ,YADG;MAEHc,gBAAgB,EAAEZ;IAFf,CADX;IAAA,UAMKJ;EANL;IAAA;IAAA;IAAA;EAAA,QADJ;AAUH,CAxCD;;GAAMD,oB;;KAAAA,oB;AA0CN,eAAeA,oBAAf"},"metadata":{},"sourceType":"module"}