{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport BigNumber from 'bignumber.js';\nimport { useEffect, useState } from 'react';\nimport { BIG_ZERO } from '../utils/formatbalance';\nimport { useWallet } from 'use-wallet';\nimport useSushi from './useSushi';\nimport { getMasterChefContract } from '../sushi/utils';\nimport { log } from '../utils/logger';\nimport { isETH } from '../utils/zunami';\n\nconst useUzdLpPrice = () => {\n  _s();\n\n  const {\n    chainId,\n    account\n  } = useWallet();\n  const sushi = useSushi();\n  const masterChefContract = getMasterChefContract(sushi, chainId);\n  const [price, setPrice] = useState(new BigNumber(BIG_ZERO));\n  useEffect(() => {\n    if (!account || !chainId || !masterChefContract || !sushi || !isETH(chainId)) {\n      return;\n    }\n\n    const getLpPrice = async () => {\n      const contract = sushi.getUzdContract();\n      const value = await contract.methods.assetPriceCached().call();\n      log(`UZD lpPrice execution (${chainId}). Result: ${value}`);\n\n      if (value) {\n        setPrice(new BigNumber(value).dividedBy(new BigNumber(10).pow(18)));\n      }\n    };\n\n    getLpPrice();\n    let refreshInterval = setInterval(getLpPrice, 5000);\n    return () => clearInterval(refreshInterval);\n  }, [account, chainId, masterChefContract, sushi]);\n  return price;\n};\n\n_s(useUzdLpPrice, \"KAqUyfGudyyC7rI6/O9MDnkyjKo=\", false, function () {\n  return [useWallet, useSushi];\n});\n\nexport default useUzdLpPrice;","map":{"version":3,"names":["BigNumber","useEffect","useState","BIG_ZERO","useWallet","useSushi","getMasterChefContract","log","isETH","useUzdLpPrice","chainId","account","sushi","masterChefContract","price","setPrice","getLpPrice","contract","getUzdContract","value","methods","assetPriceCached","call","dividedBy","pow","refreshInterval","setInterval","clearInterval"],"sources":["/home/bacarif/Documents/MEV CAPITAL/ZunamiUI/src/hooks/useUzdLpPrice.ts"],"sourcesContent":["import BigNumber from 'bignumber.js';\nimport { useEffect, useState } from 'react';\nimport { BIG_ZERO } from '../utils/formatbalance';\nimport { useWallet } from 'use-wallet';\nimport useSushi from './useSushi';\nimport { getMasterChefContract } from '../sushi/utils';\nimport { log } from '../utils/logger';\nimport { isETH } from '../utils/zunami';\nimport { contractAddresses } from '../sushi/lib/constants';\n\nconst useUzdLpPrice = () => {\n    const { chainId, account } = useWallet();\n    const sushi = useSushi();\n    const masterChefContract = getMasterChefContract(sushi, chainId);\n\n    const [price, setPrice] = useState(new BigNumber(BIG_ZERO));\n\n    useEffect(() => {\n        if (!account || !chainId || !masterChefContract || !sushi || !isETH(chainId)) {\n            return;\n        }\n\n        const getLpPrice = async () => {\n            const contract = sushi.getUzdContract();\n            const value = await contract.methods.assetPriceCached().call();\n\n            log(`UZD lpPrice execution (${chainId}). Result: ${value}`);\n\n            if (value) {\n                setPrice(new BigNumber(value).dividedBy(new BigNumber(10).pow(18)));\n            }\n        };\n\n        getLpPrice();\n\n        let refreshInterval = setInterval(getLpPrice, 5000);\n        return () => clearInterval(refreshInterval);\n    }, [account, chainId, masterChefContract, sushi]);\n\n    return price;\n};\n\nexport default useUzdLpPrice;\n"],"mappings":";;AAAA,OAAOA,SAAP,MAAsB,cAAtB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,QAAT,QAAyB,wBAAzB;AACA,SAASC,SAAT,QAA0B,YAA1B;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,SAASC,qBAAT,QAAsC,gBAAtC;AACA,SAASC,GAAT,QAAoB,iBAApB;AACA,SAASC,KAAT,QAAsB,iBAAtB;;AAGA,MAAMC,aAAa,GAAG,MAAM;EAAA;;EACxB,MAAM;IAAEC,OAAF;IAAWC;EAAX,IAAuBP,SAAS,EAAtC;EACA,MAAMQ,KAAK,GAAGP,QAAQ,EAAtB;EACA,MAAMQ,kBAAkB,GAAGP,qBAAqB,CAACM,KAAD,EAAQF,OAAR,CAAhD;EAEA,MAAM,CAACI,KAAD,EAAQC,QAAR,IAAoBb,QAAQ,CAAC,IAAIF,SAAJ,CAAcG,QAAd,CAAD,CAAlC;EAEAF,SAAS,CAAC,MAAM;IACZ,IAAI,CAACU,OAAD,IAAY,CAACD,OAAb,IAAwB,CAACG,kBAAzB,IAA+C,CAACD,KAAhD,IAAyD,CAACJ,KAAK,CAACE,OAAD,CAAnE,EAA8E;MAC1E;IACH;;IAED,MAAMM,UAAU,GAAG,YAAY;MAC3B,MAAMC,QAAQ,GAAGL,KAAK,CAACM,cAAN,EAAjB;MACA,MAAMC,KAAK,GAAG,MAAMF,QAAQ,CAACG,OAAT,CAAiBC,gBAAjB,GAAoCC,IAApC,EAApB;MAEAf,GAAG,CAAE,0BAAyBG,OAAQ,cAAaS,KAAM,EAAtD,CAAH;;MAEA,IAAIA,KAAJ,EAAW;QACPJ,QAAQ,CAAC,IAAIf,SAAJ,CAAcmB,KAAd,EAAqBI,SAArB,CAA+B,IAAIvB,SAAJ,CAAc,EAAd,EAAkBwB,GAAlB,CAAsB,EAAtB,CAA/B,CAAD,CAAR;MACH;IACJ,CATD;;IAWAR,UAAU;IAEV,IAAIS,eAAe,GAAGC,WAAW,CAACV,UAAD,EAAa,IAAb,CAAjC;IACA,OAAO,MAAMW,aAAa,CAACF,eAAD,CAA1B;EACH,CApBQ,EAoBN,CAACd,OAAD,EAAUD,OAAV,EAAmBG,kBAAnB,EAAuCD,KAAvC,CApBM,CAAT;EAsBA,OAAOE,KAAP;AACH,CA9BD;;GAAML,a;UAC2BL,S,EACfC,Q;;;AA8BlB,eAAeI,aAAf"},"metadata":{},"sourceType":"module"}