{"ast":null,"code":"var _jsxFileName = \"/home/bacarif/Documents/MEV CAPITAL/ZunamiUI/src/contexts/SushiProvider/SushiProvider.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { createContext, useEffect, useState } from 'react';\nimport { useWallet } from 'use-wallet';\nimport useEthExplorer from '../../hooks/useEthExplorer';\nimport { Sushi } from '../../sushi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Context = /*#__PURE__*/createContext({\n  sushi: undefined\n});\nconst sushiConfig = {\n  defaultConfirmations: 1,\n  autoGasMultiplier: 1.5,\n  testing: false,\n  defaultGas: '6000000',\n  defaultGasPrice: '1000000000000',\n  accounts: [],\n  ethereumNodeTimeout: 10000\n};\n\nconst createSushiLib = (provider, chainId, defaultAccount) => {\n  return new Sushi(provider, chainId, false, {\n    defaultAccount,\n    ...sushiConfig\n  });\n};\n\nconst SushiProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const {\n    ethereum,\n    chainId\n  } = useWallet();\n  const {\n    provider\n  } = useEthExplorer();\n  const [sushi, setSushi] = useState(); // @ts-ignore\n\n  window.sushi = sushi; // @ts-ignore\n\n  window.eth = ethereum;\n  useEffect(() => {\n    let config = null;\n\n    if (ethereum) {\n      config = {\n        chainId: Number(ethereum.chainId),\n        defaultAccount: ethereum.selectedAddress,\n        provider: ethereum\n      };\n    } else if (provider) {\n      config = {\n        chainId: Number(provider.chainId),\n        defaultAccount: '0x0000000000000000000000000000000000000000',\n        provider\n      };\n    }\n\n    if (config) {\n      const sushiLib = createSushiLib(config.provider, config.chainId, config.defaultAccount);\n      setSushi(sushiLib);\n      window.sushisauce = sushiLib;\n    }\n  }, [provider, ethereum, chainId]);\n  return /*#__PURE__*/_jsxDEV(Context.Provider, {\n    value: {\n      sushi\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 12\n  }, this);\n};\n\n_s(SushiProvider, \"xM9iKNACIo3OHD6zvSDBT430TDg=\", false, function () {\n  return [useWallet, useEthExplorer];\n});\n\n_c = SushiProvider;\nexport default SushiProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"SushiProvider\");","map":{"version":3,"names":["React","createContext","useEffect","useState","useWallet","useEthExplorer","Sushi","Context","sushi","undefined","sushiConfig","defaultConfirmations","autoGasMultiplier","testing","defaultGas","defaultGasPrice","accounts","ethereumNodeTimeout","createSushiLib","provider","chainId","defaultAccount","SushiProvider","children","ethereum","setSushi","window","eth","config","Number","selectedAddress","sushiLib","sushisauce"],"sources":["/home/bacarif/Documents/MEV CAPITAL/ZunamiUI/src/contexts/SushiProvider/SushiProvider.tsx"],"sourcesContent":["import React, { createContext, useEffect, useState } from 'react';\nimport { useWallet } from 'use-wallet';\nimport useEthExplorer from '../../hooks/useEthExplorer';\nimport { Sushi } from '../../sushi';\n\nexport interface SushiContext {\n    sushi?: typeof Sushi;\n}\n\nexport const Context = createContext<SushiContext>({\n    sushi: undefined,\n});\n\ndeclare global {\n    interface Window {\n        sushisauce: any;\n    }\n}\n\nconst sushiConfig: any = {\n    defaultConfirmations: 1,\n    autoGasMultiplier: 1.5,\n    testing: false,\n    defaultGas: '6000000',\n    defaultGasPrice: '1000000000000',\n    accounts: [],\n    ethereumNodeTimeout: 10000,\n};\n\nconst createSushiLib = (provider: any, chainId: number, defaultAccount: string) => {\n    return new Sushi(provider, chainId, false, {\n        defaultAccount,\n        ...sushiConfig,\n    });\n};\n\ntype Config = {\n    chainId: number;\n    defaultAccount: string;\n    provider: any;\n};\n\nconst SushiProvider: React.FC = ({ children }) => {\n    const { ethereum, chainId } = useWallet();\n    const { provider } = useEthExplorer();\n    const [sushi, setSushi] = useState<any>();\n\n    // @ts-ignore\n    window.sushi = sushi;\n    // @ts-ignore\n    window.eth = ethereum;\n\n    useEffect(() => {\n        let config: Config | null = null;\n        if (ethereum) {\n            config = {\n                chainId: Number(ethereum.chainId),\n                defaultAccount: ethereum.selectedAddress,\n                provider: ethereum,\n            };\n        } else if (provider) {\n            config = {\n                chainId: Number(provider.chainId),\n                defaultAccount: '0x0000000000000000000000000000000000000000',\n                provider,\n            };\n        }\n        if (config) {\n            const sushiLib = createSushiLib(config.provider, config.chainId, config.defaultAccount);\n            setSushi(sushiLib);\n            window.sushisauce = sushiLib;\n        }\n    }, [provider, ethereum, chainId]);\n\n    return <Context.Provider value={{ sushi }}>{children}</Context.Provider>;\n};\n\nexport default SushiProvider;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,SAA/B,EAA0CC,QAA1C,QAA0D,OAA1D;AACA,SAASC,SAAT,QAA0B,YAA1B;AACA,OAAOC,cAAP,MAA2B,4BAA3B;AACA,SAASC,KAAT,QAAsB,aAAtB;;AAMA,OAAO,MAAMC,OAAO,gBAAGN,aAAa,CAAe;EAC/CO,KAAK,EAAEC;AADwC,CAAf,CAA7B;AAUP,MAAMC,WAAgB,GAAG;EACrBC,oBAAoB,EAAE,CADD;EAErBC,iBAAiB,EAAE,GAFE;EAGrBC,OAAO,EAAE,KAHY;EAIrBC,UAAU,EAAE,SAJS;EAKrBC,eAAe,EAAE,eALI;EAMrBC,QAAQ,EAAE,EANW;EAOrBC,mBAAmB,EAAE;AAPA,CAAzB;;AAUA,MAAMC,cAAc,GAAG,CAACC,QAAD,EAAgBC,OAAhB,EAAiCC,cAAjC,KAA4D;EAC/E,OAAO,IAAIf,KAAJ,CAAUa,QAAV,EAAoBC,OAApB,EAA6B,KAA7B,EAAoC;IACvCC,cADuC;IAEvC,GAAGX;EAFoC,CAApC,CAAP;AAIH,CALD;;AAaA,MAAMY,aAAuB,GAAG,QAAkB;EAAA;;EAAA,IAAjB;IAAEC;EAAF,CAAiB;EAC9C,MAAM;IAAEC,QAAF;IAAYJ;EAAZ,IAAwBhB,SAAS,EAAvC;EACA,MAAM;IAAEe;EAAF,IAAed,cAAc,EAAnC;EACA,MAAM,CAACG,KAAD,EAAQiB,QAAR,IAAoBtB,QAAQ,EAAlC,CAH8C,CAK9C;;EACAuB,MAAM,CAAClB,KAAP,GAAeA,KAAf,CAN8C,CAO9C;;EACAkB,MAAM,CAACC,GAAP,GAAaH,QAAb;EAEAtB,SAAS,CAAC,MAAM;IACZ,IAAI0B,MAAqB,GAAG,IAA5B;;IACA,IAAIJ,QAAJ,EAAc;MACVI,MAAM,GAAG;QACLR,OAAO,EAAES,MAAM,CAACL,QAAQ,CAACJ,OAAV,CADV;QAELC,cAAc,EAAEG,QAAQ,CAACM,eAFpB;QAGLX,QAAQ,EAAEK;MAHL,CAAT;IAKH,CAND,MAMO,IAAIL,QAAJ,EAAc;MACjBS,MAAM,GAAG;QACLR,OAAO,EAAES,MAAM,CAACV,QAAQ,CAACC,OAAV,CADV;QAELC,cAAc,EAAE,4CAFX;QAGLF;MAHK,CAAT;IAKH;;IACD,IAAIS,MAAJ,EAAY;MACR,MAAMG,QAAQ,GAAGb,cAAc,CAACU,MAAM,CAACT,QAAR,EAAkBS,MAAM,CAACR,OAAzB,EAAkCQ,MAAM,CAACP,cAAzC,CAA/B;MACAI,QAAQ,CAACM,QAAD,CAAR;MACAL,MAAM,CAACM,UAAP,GAAoBD,QAApB;IACH;EACJ,CApBQ,EAoBN,CAACZ,QAAD,EAAWK,QAAX,EAAqBJ,OAArB,CApBM,CAAT;EAsBA,oBAAO,QAAC,OAAD,CAAS,QAAT;IAAkB,KAAK,EAAE;MAAEZ;IAAF,CAAzB;IAAA,UAAqCe;EAArC;IAAA;IAAA;IAAA;EAAA,QAAP;AACH,CAjCD;;GAAMD,a;UAC4BlB,S,EACTC,c;;;KAFnBiB,a;AAmCN,eAAeA,aAAf"},"metadata":{},"sourceType":"module"}