{"ast":null,"code":"var _jsxFileName = \"/home/bacarif/Documents/MEV CAPITAL/ZunamiUI/src/components/FastDepositForm/FastDepositForm.tsx\",\n    _s = $RefreshSig$();\n\nimport './FastDepositForm.scss';\nimport { useState, useMemo, useEffect } from 'react';\nimport { ToastContainer, Toast } from 'react-bootstrap';\nimport { Input } from './Input/Input';\nimport { Preloader } from '../Preloader/Preloader';\nimport { useUserBalances } from '../../hooks/useUserBalances';\nimport { WalletStatus } from '../WalletStatus/WalletStatus';\nimport { DirectAction } from '../Form/DirectAction/DirectAction';\nimport { useAllowanceStables } from '../../hooks/useAllowance';\nimport useApprove from '../../hooks/useApprove';\nimport useStake from '../../hooks/useStake';\nimport { getActiveWalletName } from '../WalletsModal/WalletsModal';\nimport { daiAddress, usdcAddress, usdtAddress, bscUsdtAddress, busdAddress, plgUsdtAddress } from '../../utils/formatbalance';\nimport { getFullDisplayBalance } from '../../utils/formatbalance';\nimport { Link } from 'react-router-dom';\nimport { useWallet } from 'use-wallet';\nimport { log } from '../../utils/logger';\nimport { isBSC, isETH, isPLG } from '../../utils/zunami';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction coinNameToAddress(coinName, chainId) {\n  if (chainId === 56 && coinName === 'USDT') {\n    return bscUsdtAddress;\n  }\n\n  let address = daiAddress;\n\n  switch (coinName) {\n    case 'USDC':\n      address = usdcAddress;\n      break;\n\n    case 'USDT':\n      address = isPLG(chainId) ? plgUsdtAddress : usdtAddress;\n      break;\n\n    case 'BUSD':\n      address = busdAddress;\n      break;\n  }\n\n  return address;\n}\n\nfunction getScanAddressByChainId(chainId) {\n  let address = 'etherscan.io';\n\n  switch (chainId) {\n    case 56:\n      address = 'bscscan.com';\n      break;\n\n    case 137:\n      address = 'polygonscan.com';\n      break;\n  }\n\n  return address;\n}\n\nexport const FastDepositForm = () => {\n  _s();\n\n  const userBalanceList = useUserBalances();\n  const {\n    chainId,\n    account\n  } = useWallet();\n  const [optimized, setOptimized] = useState(true);\n  const [pendingApproval, setPendingApproval] = useState(false);\n  const [coin, setCoin] = useState('USDC');\n  const [depositSum, setDepositSum] = useState('');\n  const [transactionId, setTransactionId] = useState(undefined);\n  const [pendingTx, setPendingTx] = useState(false);\n  const [transactionError, setTransactionError] = useState(false);\n  const [coinIndex, setCoinIndex] = useState(-1);\n  const approveList = useAllowanceStables();\n  const approvedTokens = [approveList ? approveList[0].toNumber() > 0 : false, approveList ? approveList[1].toNumber() > 0 : false, approveList ? approveList[2].toNumber() > 0 : false, approveList ? approveList[3].toNumber() > 0 : false];\n  const coins = useMemo(() => {\n    return ['DAI', 'USDC', 'USDT', 'BUSD'];\n  }, []);\n  const {\n    onApprove\n  } = useApprove();\n  const {\n    onStake\n  } = useStake([{\n    name: 'DAI',\n    value: coin === 'DAI' ? depositSum : '0'\n  }, {\n    name: 'USDC',\n    value: coin === 'USDC' ? depositSum : '0'\n  }, {\n    name: 'USDT',\n    value: coin === 'USDT' ? depositSum : '0'\n  }, {\n    name: 'BUSD',\n    value: coin === 'BUSD' ? depositSum : '0'\n  }], !optimized);\n  useEffect(() => {\n    if (coinIndex === -1) {\n      setCoin(chainId !== 1 ? 'USDT' : 'USDC');\n      setCoinIndex(coins.indexOf(coin));\n    }\n\n    if (chainId === 56 && coinIndex !== 3) {\n      setCoin('USDT');\n      setCoinIndex(coins.indexOf(coin));\n    }\n\n    if (isPLG(chainId) && coinIndex !== 3) {\n      setCoin('USDT');\n      setCoinIndex(coins.indexOf(coin));\n    }\n  }, [chainId, coin, coinIndex, coins]); // get user max balance\n\n  const fullBalance = useMemo(() => {\n    if (isBSC(chainId)) {\n      return getFullDisplayBalance(userBalanceList[coinIndex], 18);\n    } else if (isETH(chainId)) {\n      return getFullDisplayBalance(userBalanceList[coinIndex], coin === 'DAI' ? 18 : 6);\n    } else if (isPLG(chainId)) {\n      return getFullDisplayBalance(userBalanceList[coinIndex], coin === 'DAI' ? 18 : 6);\n    }\n  }, [userBalanceList, coin, coinIndex, chainId]);\n  const depositEnabled = approvedTokens[coinIndex] && Number(depositSum) > 0 && !pendingApproval && Number(depositSum) <= Number(fullBalance); // set default input to max\n\n  useEffect(() => {\n    if (!fullBalance) {\n      return;\n    }\n\n    setDepositSum(fullBalance.toString());\n  }, [fullBalance]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"FastDepositForm\",\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {\n      position: 'top-end',\n      className: 'toasts mt-3 me-3',\n      children: [transactionError && /*#__PURE__*/_jsxDEV(Toast, {\n        onClose: () => setTransactionError(false),\n        delay: 5000,\n        autohide: true,\n        children: /*#__PURE__*/_jsxDEV(Toast.Body, {\n          children: \"Sorry, we couldn't complete the transaction\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 21\n      }, this), transactionId && /*#__PURE__*/_jsxDEV(Toast, {\n        onClose: () => setTransactionId(undefined),\n        delay: 15000,\n        autohide: true,\n        children: /*#__PURE__*/_jsxDEV(Toast.Body, {\n          children: [\"Success! Check out the\", ' ', /*#__PURE__*/_jsxDEV(\"a\", {\n            target: \"_blank\",\n            rel: \"noreferrer\",\n            href: `https://${getScanAddressByChainId(chainId)}/tx/${transactionId}`,\n            children: \"transaction\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-between align-items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"FastDepositForm__Title\",\n        children: \"Fast deposit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        className: \"FastDepositForm__Description\",\n        to: \"/deposit\",\n        children: \"Tap to Deposit & Withdraw Page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"FastDepositForm__MobileToggle\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"FastDepositForm__MobileToggle__Title\",\n        children: \"Fast Deposit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n        width: \"35\",\n        height: \"25\",\n        viewBox: \"0 0 35 25\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: \"FastDepositForm__MobileToggle__Icon\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          fillRule: \"evenodd\",\n          clipRule: \"evenodd\",\n          d: \"M33.6296 3.86025e-06C33.7985 -0.000379277 33.9698 0.0277528 34.1352 0.0866819C34.7085 0.294158 35.0634 0.833595 34.9906 1.38963C33.9329 9.25391 28.1559 15.6637 20.4448 18.3758C20.0928 18.4996 19.7438 18.5743 19.4019 18.6046C18.1198 18.9916 16.7896 19.279 15.4234 19.457C14.3485 19.597 13.4981 20.4826 13.4981 21.5665C13.4981 23.3923 12.3575 24.2102 11.226 24.2102C10.4869 24.2102 9.74777 23.888 9.03602 23.2436L1.27978 16.2212C-0.426593 14.6763 -0.426593 12.173 1.27978 10.6281L9.03602 3.60574C9.74777 2.9696 10.4869 2.63913 11.226 2.63913C12.3575 2.63913 13.4981 3.45703 13.4981 5.28285C13.4981 6.50844 14.3835 7.57119 15.6067 7.64689C16.0411 7.67377 16.476 7.68698 16.9109 7.68698C23.052 7.68698 28.892 5.00195 32.5237 0.507633C32.7865 0.180574 33.2005 -0.000958612 33.6296 3.86025e-06Z\",\n          fill: \"white\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n        width: \"18\",\n        height: \"6\",\n        viewBox: \"0 0 18 6\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: \"FastDepositForm__MobileToggle__ToggleIcon\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M1 1L9 5L17 1\",\n          stroke: \"white\",\n          strokeWidth: \"1.3\",\n          strokeLinecap: \"round\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      action: \"deposit\",\n      name: coin,\n      value: depositSum,\n      handler: sum => {\n        setDepositSum(sum);\n      },\n      max: userBalanceList[coinIndex],\n      onCoinChange: coin => {\n        setCoin(coin);\n        setCoinIndex(['DAI', 'USDC', 'USDT', 'BUSD'].indexOf(coin));\n      },\n      chainId: chainId\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [!account && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex align-items-center FastDepositForm__Actions\",\n        children: [/*#__PURE__*/_jsxDEV(WalletStatus, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"FastDepositForm__Slogan\",\n          children: \"Make your first Deposit!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 21\n      }, this), account && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex align-items-center FastDepositForm__Actions\",\n        children: [!approvedTokens[coinIndex] && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"zun-button\",\n          onClick: async () => {\n            setPendingApproval(true);\n            setPendingTx(true);\n\n            if (!chainId) {\n              return;\n            }\n\n            try {\n              await onApprove(coinNameToAddress(coin, chainId));\n              log('USDT approved!');\n            } catch (error) {\n              log(`Error while approving ${coin}: ${error.message}`);\n              setPendingApproval(false);\n              setPendingTx(false);\n            }\n\n            setPendingApproval(false);\n            setPendingTx(false);\n          },\n          children: \"Approve\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 29\n        }, this), approvedTokens[coinIndex] && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `zun-button ${depositEnabled ? '' : 'disabled'}`,\n          onClick: async () => {\n            setPendingTx(true);\n\n            try {\n              const tx = await onStake();\n              setTransactionId(tx.transactionHash);\n              setDepositSum('0');\n              log('Deposit success');\n              log(JSON.stringify(tx)); // @ts-ignore\n\n              if (window.dataLayer) {\n                // @ts-ignore\n                window.dataLayer.push({\n                  event: 'deposit',\n                  userID: account,\n                  type: getActiveWalletName(),\n                  value: depositSum\n                });\n              }\n            } catch (error) {\n              setTransactionError(true);\n              log(`❗️ Deposit error: ${error.message}`);\n              log(JSON.stringify(error));\n            }\n\n            setPendingTx(false);\n          },\n          children: \"Deposit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 29\n        }, this), !pendingTx && /*#__PURE__*/_jsxDEV(DirectAction, {\n          actionName: \"deposit\",\n          checked: optimized,\n          disabled: chainId !== 1 || false,\n          hint: `${chainId === 1 ? 'When using optimized deposit funds will be deposited within 24 hours and many times cheaper' : 'When using deposit funds will be deposited within 24 hours, because users’ funds accumulate in one batch and distribute to the ETH network in Zunami App.'}`,\n          onChange: state => {\n            setOptimized(state);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 29\n        }, this), pendingTx && /*#__PURE__*/_jsxDEV(Preloader, {\n          className: \"ms-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 39\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 154,\n    columnNumber: 9\n  }, this);\n};\n\n_s(FastDepositForm, \"3C1lJXI4CDLeunACHpR+cXbwA2g=\", false, function () {\n  return [useUserBalances, useWallet, useAllowanceStables, useApprove, useStake];\n});\n\n_c = FastDepositForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"FastDepositForm\");","map":{"version":3,"names":["useState","useMemo","useEffect","ToastContainer","Toast","Input","Preloader","useUserBalances","WalletStatus","DirectAction","useAllowanceStables","useApprove","useStake","getActiveWalletName","daiAddress","usdcAddress","usdtAddress","bscUsdtAddress","busdAddress","plgUsdtAddress","getFullDisplayBalance","Link","useWallet","log","isBSC","isETH","isPLG","coinNameToAddress","coinName","chainId","address","getScanAddressByChainId","FastDepositForm","userBalanceList","account","optimized","setOptimized","pendingApproval","setPendingApproval","coin","setCoin","depositSum","setDepositSum","transactionId","setTransactionId","undefined","pendingTx","setPendingTx","transactionError","setTransactionError","coinIndex","setCoinIndex","approveList","approvedTokens","toNumber","coins","onApprove","onStake","name","value","indexOf","fullBalance","depositEnabled","Number","toString","sum","error","message","tx","transactionHash","JSON","stringify","window","dataLayer","push","event","userID","type","state"],"sources":["/home/bacarif/Documents/MEV CAPITAL/ZunamiUI/src/components/FastDepositForm/FastDepositForm.tsx"],"sourcesContent":["import './FastDepositForm.scss';\nimport { useState, useMemo, useEffect } from 'react';\nimport { ToastContainer, Toast } from 'react-bootstrap';\nimport { Input } from './Input/Input';\nimport { Preloader } from '../Preloader/Preloader';\nimport { useUserBalances } from '../../hooks/useUserBalances';\nimport { WalletStatus } from '../WalletStatus/WalletStatus';\nimport { DirectAction } from '../Form/DirectAction/DirectAction';\nimport { useAllowanceStables } from '../../hooks/useAllowance';\nimport useApprove from '../../hooks/useApprove';\nimport useStake from '../../hooks/useStake';\nimport { getActiveWalletName } from '../WalletsModal/WalletsModal';\nimport {\n    daiAddress,\n    usdcAddress,\n    usdtAddress,\n    bscUsdtAddress,\n    busdAddress,\n    plgUsdtAddress,\n} from '../../utils/formatbalance';\nimport { getFullDisplayBalance } from '../../utils/formatbalance';\nimport { Link } from 'react-router-dom';\nimport { useWallet } from 'use-wallet';\nimport { log } from '../../utils/logger';\nimport { isBSC, isETH, isPLG } from '../../utils/zunami';\n\nfunction coinNameToAddress(coinName: string, chainId: number): string {\n    if (chainId === 56 && coinName === 'USDT') {\n        return bscUsdtAddress;\n    }\n\n    let address = daiAddress;\n\n    switch (coinName) {\n        case 'USDC':\n            address = usdcAddress;\n            break;\n        case 'USDT':\n            address = isPLG(chainId) ? plgUsdtAddress : usdtAddress;\n            break;\n        case 'BUSD':\n            address = busdAddress;\n            break;\n    }\n\n    return address;\n}\n\nfunction getScanAddressByChainId(chainId: number) {\n    let address = 'etherscan.io';\n\n    switch (chainId) {\n        case 56:\n            address = 'bscscan.com';\n            break;\n        case 137:\n            address = 'polygonscan.com';\n            break;\n    }\n\n    return address;\n}\n\nexport const FastDepositForm = (): JSX.Element => {\n    const userBalanceList = useUserBalances();\n    const { chainId, account } = useWallet();\n    const [optimized, setOptimized] = useState(true);\n    const [pendingApproval, setPendingApproval] = useState(false);\n    const [coin, setCoin] = useState('USDC');\n    const [depositSum, setDepositSum] = useState('');\n    const [transactionId, setTransactionId] = useState<string | undefined>(undefined);\n    const [pendingTx, setPendingTx] = useState(false);\n    const [transactionError, setTransactionError] = useState(false);\n    const [coinIndex, setCoinIndex] = useState(-1);\n    const approveList = useAllowanceStables();\n    const approvedTokens = [\n        approveList ? approveList[0].toNumber() > 0 : false,\n        approveList ? approveList[1].toNumber() > 0 : false,\n        approveList ? approveList[2].toNumber() > 0 : false,\n        approveList ? approveList[3].toNumber() > 0 : false,\n    ];\n\n    const coins = useMemo(() => {\n        return ['DAI', 'USDC', 'USDT', 'BUSD'];\n    }, []);\n\n    const { onApprove } = useApprove();\n    const { onStake } = useStake(\n        [\n            {\n                name: 'DAI',\n                value: coin === 'DAI' ? depositSum : '0',\n            },\n            {\n                name: 'USDC',\n                value: coin === 'USDC' ? depositSum : '0',\n            },\n            {\n                name: 'USDT',\n                value: coin === 'USDT' ? depositSum : '0',\n            },\n            {\n                name: 'BUSD',\n                value: coin === 'BUSD' ? depositSum : '0',\n            },\n        ],\n        !optimized\n    );\n\n    useEffect(() => {\n        if (coinIndex === -1) {\n            setCoin(chainId !== 1 ? 'USDT' : 'USDC');\n            setCoinIndex(coins.indexOf(coin));\n        }\n\n        if (chainId === 56 && coinIndex !== 3) {\n            setCoin('USDT');\n            setCoinIndex(coins.indexOf(coin));\n        }\n\n        if (isPLG(chainId) && coinIndex !== 3) {\n            setCoin('USDT');\n            setCoinIndex(coins.indexOf(coin));\n        }\n    }, [chainId, coin, coinIndex, coins]);\n\n    // get user max balance\n    const fullBalance = useMemo(() => {\n        if (isBSC(chainId)) {\n            return getFullDisplayBalance(userBalanceList[coinIndex], 18);\n        } else if (isETH(chainId)) {\n            return getFullDisplayBalance(userBalanceList[coinIndex], coin === 'DAI' ? 18 : 6);\n        } else if (isPLG(chainId)) {\n            return getFullDisplayBalance(userBalanceList[coinIndex], coin === 'DAI' ? 18 : 6);\n        }\n    }, [userBalanceList, coin, coinIndex, chainId]);\n\n    const depositEnabled =\n        approvedTokens[coinIndex] &&\n        Number(depositSum) > 0 &&\n        !pendingApproval &&\n        Number(depositSum) <= Number(fullBalance);\n\n    // set default input to max\n    useEffect(() => {\n        if (!fullBalance) {\n            return;\n        }\n\n        setDepositSum(fullBalance.toString());\n    }, [fullBalance]);\n\n    return (\n        <div className=\"FastDepositForm\">\n            <ToastContainer position={'top-end'} className={'toasts mt-3 me-3'}>\n                {transactionError && (\n                    <Toast onClose={() => setTransactionError(false)} delay={5000} autohide>\n                        <Toast.Body>Sorry, we couldn't complete the transaction</Toast.Body>\n                    </Toast>\n                )}\n                {transactionId && (\n                    <Toast onClose={() => setTransactionId(undefined)} delay={15000} autohide>\n                        <Toast.Body>\n                            Success! Check out the{' '}\n                            <a\n                                target=\"_blank\"\n                                rel=\"noreferrer\"\n                                href={`https://${\n                                    getScanAddressByChainId(chainId)\n                                }/tx/${transactionId}`}\n                            >\n                                transaction\n                            </a>\n                        </Toast.Body>\n                    </Toast>\n                )}\n            </ToastContainer>\n            <div className=\"d-flex justify-content-between align-items-center\">\n                <span className=\"FastDepositForm__Title\">Fast deposit</span>\n                <Link className=\"FastDepositForm__Description\" to=\"/deposit\">\n                    Tap to Deposit & Withdraw Page\n                </Link>\n            </div>\n            <div className=\"FastDepositForm__MobileToggle\">\n                <div className=\"FastDepositForm__MobileToggle__Title\">Fast Deposit</div>\n                <svg\n                    width=\"35\"\n                    height=\"25\"\n                    viewBox=\"0 0 35 25\"\n                    fill=\"none\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    className=\"FastDepositForm__MobileToggle__Icon\"\n                >\n                    <path\n                        fillRule=\"evenodd\"\n                        clipRule=\"evenodd\"\n                        d=\"M33.6296 3.86025e-06C33.7985 -0.000379277 33.9698 0.0277528 34.1352 0.0866819C34.7085 0.294158 35.0634 0.833595 34.9906 1.38963C33.9329 9.25391 28.1559 15.6637 20.4448 18.3758C20.0928 18.4996 19.7438 18.5743 19.4019 18.6046C18.1198 18.9916 16.7896 19.279 15.4234 19.457C14.3485 19.597 13.4981 20.4826 13.4981 21.5665C13.4981 23.3923 12.3575 24.2102 11.226 24.2102C10.4869 24.2102 9.74777 23.888 9.03602 23.2436L1.27978 16.2212C-0.426593 14.6763 -0.426593 12.173 1.27978 10.6281L9.03602 3.60574C9.74777 2.9696 10.4869 2.63913 11.226 2.63913C12.3575 2.63913 13.4981 3.45703 13.4981 5.28285C13.4981 6.50844 14.3835 7.57119 15.6067 7.64689C16.0411 7.67377 16.476 7.68698 16.9109 7.68698C23.052 7.68698 28.892 5.00195 32.5237 0.507633C32.7865 0.180574 33.2005 -0.000958612 33.6296 3.86025e-06Z\"\n                        fill=\"white\"\n                    />\n                </svg>\n                <svg\n                    width=\"18\"\n                    height=\"6\"\n                    viewBox=\"0 0 18 6\"\n                    fill=\"none\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    className=\"FastDepositForm__MobileToggle__ToggleIcon\"\n                >\n                    <path\n                        d=\"M1 1L9 5L17 1\"\n                        stroke=\"white\"\n                        strokeWidth=\"1.3\"\n                        strokeLinecap=\"round\"\n                    />\n                </svg>\n            </div>\n            <Input\n                action=\"deposit\"\n                name={coin}\n                value={depositSum}\n                handler={(sum) => {\n                    setDepositSum(sum);\n                }}\n                max={userBalanceList[coinIndex]}\n                onCoinChange={(coin: string) => {\n                    setCoin(coin);\n                    setCoinIndex(['DAI', 'USDC', 'USDT', 'BUSD'].indexOf(coin));\n                }}\n                chainId={chainId}\n            />\n            <div>\n                {!account && (\n                    <div className=\"d-flex align-items-center FastDepositForm__Actions\">\n                        <WalletStatus />\n                        <span className=\"FastDepositForm__Slogan\">Make your first Deposit!</span>\n                    </div>\n                )}\n                {account && (\n                    <div className=\"d-flex align-items-center FastDepositForm__Actions\">\n                        {!approvedTokens[coinIndex] && (\n                            <button\n                                className=\"zun-button\"\n                                onClick={async () => {\n                                    setPendingApproval(true);\n                                    setPendingTx(true);\n\n                                    if (!chainId) {\n                                        return;\n                                    }\n\n                                    try {\n                                        await onApprove(coinNameToAddress(coin, chainId));\n                                        log('USDT approved!');\n                                    } catch (error: any) {\n                                        log(`Error while approving ${coin}: ${error.message}`);\n                                        setPendingApproval(false);\n                                        setPendingTx(false);\n                                    }\n\n                                    setPendingApproval(false);\n                                    setPendingTx(false);\n                                }}\n                            >\n                                Approve\n                            </button>\n                        )}\n                        {approvedTokens[coinIndex] && (\n                            <button\n                                className={`zun-button ${depositEnabled ? '' : 'disabled'}`}\n                                onClick={async () => {\n                                    setPendingTx(true);\n\n                                    try {\n                                        const tx = await onStake();\n                                        setTransactionId(tx.transactionHash);\n                                        setDepositSum('0');\n                                        log('Deposit success');\n                                        log(JSON.stringify(tx));\n\n                                        // @ts-ignore\n                                        if (window.dataLayer) {\n                                            // @ts-ignore\n                                            window.dataLayer.push({\n                                                event: 'deposit',\n                                                userID: account,\n                                                type: getActiveWalletName(),\n                                                value: depositSum,\n                                            });\n                                        }\n                                    } catch (error: any) {\n                                        setTransactionError(true);\n                                        log(`❗️ Deposit error: ${error.message}`);\n                                        log(JSON.stringify(error));\n                                    }\n\n                                    setPendingTx(false);\n                                }}\n                            >\n                                Deposit\n                            </button>\n                        )}\n                        {!pendingTx && (\n                            <DirectAction\n                                actionName=\"deposit\"\n                                checked={optimized}\n                                disabled={chainId !== 1 || false}\n                                hint={`${\n                                    chainId === 1\n                                        ? 'When using optimized deposit funds will be deposited within 24 hours and many times cheaper'\n                                        : 'When using deposit funds will be deposited within 24 hours, because users’ funds accumulate in one batch and distribute to the ETH network in Zunami App.'\n                                }`}\n                                onChange={(state: boolean) => {\n                                    setOptimized(state);\n                                }}\n                            />\n                        )}\n                        {pendingTx && <Preloader className=\"ms-2\" />}\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}