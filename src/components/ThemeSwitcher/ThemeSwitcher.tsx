import React, { useState } from 'react';
import './ThemeSwitcher.scss';
import { getTheme, setTheme as saveTheme } from '../../functions/theme';

export const ThemeSwitcher = (): JSX.Element => {
    const [theme, setTheme] = useState(getTheme);

    return (
        <div
            className={'ThemeSwitcher'}
            onClick={async (e) => {
                const value = theme === 'dark' ? 'default' : 'dark';

                setTheme(value);
                saveTheme(value);

                const logo = document.querySelector('nav .Logo');
                const logoName = `/logo${theme !== 'dark' ? '-dark' : ''}.svg`;

                document.body.classList.toggle('dark');

                if (logo) {
                    logo.setAttribute('src', logoName);
                }
            }}
        >
            <span>{theme === 'dark' ? 'Light theme' : 'Dark theme'}</span>
            {theme !== 'dark' && (
                <svg
                    width="15"
                    height="15"
                    viewBox="0 0 15 15"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M6.61212 2.66798L6.62032 2.6551L6.6278 2.64179C6.79511 2.34385 6.83463 1.95701 6.58875 1.60746L6.58122 1.59675L6.57319 1.58642C6.45585 1.43541 6.29443 1.33188 6.1338 1.27689C5.99737 1.23019 5.80756 1.20119 5.61047 1.26051C5.31694 1.30817 5.11744 1.39622 4.96199 1.46484L4.95649 1.46727C1.8367 2.8441 0.405403 6.53669 1.78223 9.65648C3.15907 12.7763 6.85165 14.2076 9.97144 12.8307C11.943 11.9606 13.3377 10.1457 13.6282 7.98697L13.6314 7.96359L13.6325 7.94003C13.6484 7.60823 13.497 7.23813 13.1397 7.03751C12.7719 6.83095 12.3298 6.90887 12.0584 7.20182C11.7676 7.46335 11.4547 7.69155 11.0937 7.8509C9.28751 8.64799 7.15457 7.82123 6.35747 6.01508C5.87471 4.92119 5.97492 3.66829 6.61212 2.66798Z"
                        stroke="#767676"
                        strokeWidth="1.1"
                    />
                </svg>
            )}
            {theme === 'dark' && (
                <svg
                    width="15"
                    height="15"
                    viewBox="0 0 15 15"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                >
                    <path
                        d="M7.47907 4.7293C5.95322 4.7293 4.7293 5.95322 4.7293 7.47907C4.7293 9.00492 5.95322 10.2288 7.47907 10.2288C9.00492 10.2288 10.2288 9.00492 10.2288 7.47907C10.2288 5.95322 9.00492 4.7293 7.47907 4.7293Z"
                        stroke="#A1A1A1"
                        strokeWidth="1.1"
                    />
                    <path
                        d="M7.47937 2.61773C7.06385 2.61773 6.73145 2.28532 6.73145 1.86981V0.747922C6.73145 0.33241 7.06385 0 7.47937 0C7.89488 0 8.22729 0.33241 8.22729 0.747922V1.91136C8.22729 2.28532 7.89488 2.61773 7.47937 2.61773Z"
                        fill="#A1A1A1"
                    />
                    <path
                        d="M7.47937 12.3408C7.06385 12.3408 6.73145 12.6732 6.73145 13.0887V14.2522C6.73145 14.6677 7.06385 15.0001 7.47937 15.0001C7.89488 15.0001 8.22729 14.6677 8.22729 14.2522V13.0887C8.22729 12.6732 7.89488 12.3408 7.47937 12.3408Z"
                        fill="#A1A1A1"
                    />
                    <path
                        d="M10.8866 4.07208C10.5957 3.78122 10.5957 3.32416 10.8866 3.0333L11.7176 2.20227C12.0085 1.91142 12.4655 1.91142 12.7564 2.20227C13.0473 2.49313 13.0473 2.9502 12.7564 3.24106L11.9254 4.07208C11.6761 4.32139 11.1775 4.32139 10.8866 4.07208Z"
                        fill="#A1A1A1"
                    />
                    <path
                        d="M4.07184 10.9281C3.78098 10.6372 3.32391 10.6372 3.03306 10.9281L2.20203 11.7591C1.91117 12.05 1.91117 12.5071 2.20203 12.7979C2.49289 13.0888 2.94995 13.0888 3.24081 12.7979L4.07184 11.9669C4.32114 11.676 4.32114 11.1774 4.07184 10.9281Z"
                        fill="#A1A1A1"
                    />
                    <path
                        d="M12.3408 7.47937C12.3408 7.06385 12.6732 6.73145 13.0887 6.73145H14.2522C14.6677 6.73145 15.0001 7.06385 15.0001 7.47937C15.0001 7.89488 14.6677 8.22729 14.2522 8.22729H13.0887C12.6732 8.22729 12.3408 7.89488 12.3408 7.47937Z"
                        fill="#A1A1A1"
                    />
                    <path
                        d="M2.61773 7.47912C2.61773 7.06361 2.28532 6.7312 1.86981 6.7312H0.747922C0.33241 6.7312 0 7.06361 0 7.47912C0 7.89464 0.33241 8.22705 0.747922 8.22705H1.91136C2.28532 8.22705 2.61773 7.89464 2.61773 7.47912Z"
                        fill="#A1A1A1"
                    />
                    <path
                        d="M10.8862 10.9281C11.1771 10.6372 11.6341 10.6372 11.925 10.9281L12.756 11.7591C13.0469 12.05 13.0469 12.5071 12.756 12.7979C12.4651 13.0888 12.0081 13.0888 11.7172 12.7979L10.8862 11.9669C10.6369 11.676 10.6369 11.1774 10.8862 10.9281Z"
                        fill="#A1A1A1"
                    />
                    <path
                        d="M4.07184 4.07208C4.3627 3.78122 4.3627 3.32416 4.07184 3.0333L3.24081 2.20227C2.94995 1.91142 2.49289 1.91142 2.20203 2.20227C1.91117 2.49313 1.91117 2.9502 2.20203 3.24106L3.03306 4.07208C3.28236 4.32139 3.78098 4.32139 4.07184 4.07208Z"
                        fill="#A1A1A1"
                    />
                </svg>
            )}
        </div>
    );
};
